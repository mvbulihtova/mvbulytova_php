<?php

// 2. Запись в файл. Пусть в корне вашего сайта лежит файл test.txt. 
// Запишите в него текст '12345'.

file_put_contents('test.txt', "12345");


// 3. Запись и чтение из файла. Пусть в корне вашего сайта лежат файлы 1.txt, 2.txt и 3.txt. 
// Вручную сделайте массив с именами этих файлов. Переберите его циклом, прочитайте содержимое 
// каждого из файлов, слейте его в одну строку и запишите в новый файл new.txt. 
// Изначально этого файла не должно быть.

$fs = ['1.txt', '2.txt', '3.txt'];
$out = "";

foreach ($fs as $f) {
    if (file_exists($f)) {
        $out .= file_get_contents($f);
    } else {
        echo "Файл $f не найден";
    }
}

file_put_contents('new.txt', $out);


// 4.Запись и чтение из файла. Пусть в корне вашего сайта лежат файлы 1.txt, 2.txt и 3.txt. 
// Вручную сделайте массив с именами этих файлов. Переберите его циклом и 
// в текст каждого файла в конец запишите восклицательный знак.

$fs = ['1.txt', '2.txt', '3.txt'];

foreach ($fs as $f) {
    if (file_exists($f)) {
        $txt = file_get_contents($f);
        $txt .= "!";
        file_put_contents($f, $txt);
    } else {
        echo "Файл $f не найден";
    }
}


// 5. Запись и чтение из файла. Пусть в корне вашего сайта лежит файл count.txt. 
// Изначально в нем записано число 0. Сделайте так, 
// чтобы при обновлении страницы наш скрипт каждый раз увеличивал это число на 1. 
// То есть у нас получится счетчик обновления страницы в виде файла.

$cf = 'count.txt';

if (file_exists($cf)) {
    $n = (int)file_get_contents($cf);
} else {
    echo "Файл $cf не найден";
}

$n++;
file_put_contents($cf, $n);

// Запись и чтение из файла. Пусть в корне вашего сайта лежит файл test.txt, 
// в котором записано некоторое число. Откройте этот файл, возведите число в квадрат и 
// запишите обратно в файл.

$tf = 'test.txt';

if (file_exists($tf)) {
    $x = (int)file_get_contents($tf);
} else {
    echo "Файл $tf не найден";
}

$x = $x * $x;
file_put_contents($tf, $x);